<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Load Time Enhancement</title>
    <link rel="stylesheet" type="text/css" href="../../../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Load Time Enhancement</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>


<p><font color="#990000">This topic applies to Java version only</font> </p><p>The following code is used to store and retrieve
MaintenanceQueue objects containing references to Car, Pilot and Id objects:</p>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">EnhancerMain.java: <span class="fscMemberName">main</span></span></div><div class="fscCode"><pre ID="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Open_Text').style.display='inline';"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> main(String[] args) </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_39_1731_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configuration(), DB4O_FILE_NAME);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    MaintenanceQueue</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> queue </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">for</span><span style="color: #000000;">(</span><span style="color: #0000FF;">int</span><span style="color: #000000;"> number </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">; number </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> DEPTH; number</span><span style="color: #000000;">++</span><span style="color: #000000;">) </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_235_369_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      queue </span><span style="color: #000000;">=</span><span style="color: #000000;"> MaintenanceQueue.add(queue, </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Car(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> number, 
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Pilot #</span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> number, </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Id(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">110021</span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> number))));
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    db.set(queue);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    db.close();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    db </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configuration(), DB4O_FILE_NAME);
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    EventRegistry registry </span><span style="color: #000000;">=</span><span style="color: #000000;"> EventRegistryFactory.forObjectContainer(db);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Open_Text').style.display='inline';"/>    registry.activated().addListener(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> EventListener4() </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_585_762_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> onEvent(Event4 event, EventArgs args) </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_640_758_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        ObjectEventArgs objArgs </span><span style="color: #000000;">=</span><span style="color: #000000;"> (ObjectEventArgs) args;
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">ACTIVATED: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> objArgs.object());
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Open_Text').style.display='inline';"/>    ((ObjectContainerBase)db).getNativeQueryHandler().addListener(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Db4oQueryExecutionListener() </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_862_964_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> notifyQueryExecuted(NQOptimizationInfo info) </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_924_960_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(info);
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Open_Text').style.display='inline';"/>    List</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">MaintenanceQueue</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;&gt;</span><span style="color: #000000;"> result </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.query(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Predicate</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">MaintenanceQueue</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;&gt;</span><span style="color: #000000;">() </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1057_1187_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      @Override
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> match(MaintenanceQueue</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> queue) </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1125_1183_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> queue.value().getModel().equals(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Car0</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    System.out.println(result.size());
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #008000;">//</span><span style="color: #008000;">for (Iterator&lt;MaintenanceQueue&lt;Car&gt;&gt; i = result.iterator(); i.hasNext();){</span><span style="color: #008000;">
</span><span style="color: #008080;">34</span><span style="color: #008000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">      MaintenanceQueue</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Car</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> carQueue </span><span style="color: #000000;">=</span><span style="color: #000000;"> result.get(</span><span style="color: #000000;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Car car </span><span style="color: #000000;">=</span><span style="color: #000000;"> carQueue.value();
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(car);
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Pilot pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> car.getPilot();
</span><span style="color: #008080;">39</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(pilot);
</span><span style="color: #008080;">40</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">while</span><span style="color: #000000;"> (carQueue.hasNext())</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Main_219_101_1512_1671_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">41</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        carQueue </span><span style="color: #000000;">=</span><span style="color: #000000;"> carQueue.next();
</span><span style="color: #008080;">42</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        car </span><span style="color: #000000;">=</span><span style="color: #000000;"> carQueue.value();
</span><span style="color: #008080;">43</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(car);
</span><span style="color: #008080;">44</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">45</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> car.getPilot();
</span><span style="color: #008080;">46</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(pilot);
</span><span style="color: #008080;">47</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">48</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #008000;">//</span><span style="color: #008000;">}</span><span style="color: #008000;">
</span><span style="color: #008080;">49</span><span style="color: #008000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">    db.close();
</span><span style="color: #008080;">50</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">51</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">EnhancerMain.java: <span class="fscMemberName">configuration</span></span></div><div class="fscCode"><pre ID="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> Configuration configuration() </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerMain.Java_EnhancementExamplesrcenhancementEnhancerMain.Java_Configuration_324_110_45_294_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Configuration config </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.newConfiguration();
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    config.add(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> TransparentActivationSupport());
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #008000;">//</span><span style="color: #008000;"> NOTE: required for load time instrumentation!</span><span style="color: #008000;">
</span><span style="color: #008080;">5</span><span style="color: #008000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">    config.reflectWith(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> JdkReflector(EnhancerMain.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">.getClassLoader()));
</span><span style="color: #008080;">6</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> config;
</span><span style="color: #008080;">7</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p>Please, run this method to see that in TA mode all the
objects are fully activated immediately. Also NQ info reports that the queries
run dynamically optimized.</p>

<p>In order to use TA advantages (lazy activation), we launch the application through an instrumenting classloader. The following configuration options are available:</p><ul><li>A <i>ClassFilter</i> specifies which classes should be instrumented. In the example, we are using a filter that will only accept classes whose fully qualified name starts with a given prefix. The instrumentation API already comes with a variety of other filter implementations, and it's easy to create custom filters.</li><li>A sequence of <i>ClassEdits</i>. A ClassEdit is a single instrumentation step. In the example, we are applying two steps: First, we preoptimize all Native Query Predicates, then we instrument for Transparent Activation. Note that the order of steps is significant: Switching the order would leave the generated NQ optimization code unaware of TA. The db4otools package provides a convenience launcher with a hardwired sequence for combined NQ/TA instrumentation.</li><li>The <i>classpath</i> for the instrumented classes, represented by a sequence of URLs. This must contain all classes "reachable" from the classes to be instrumented - the easiest way probably is to provide the full application class path here. The classes to be instrumented need not be listed here, they are implicitly added to this classpath, anyway. <br></li></ul>

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">EnhancerStarter.java: <span class="fscMemberName">main</span></span></div><div class="fscCode"><pre ID="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Open_Text').style.display='inline';"/><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> main(String[] args) </span><span style="color: #0000FF;">throws</span><span style="color: #000000;"> Exception </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_56_412_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ClassFilter filter </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ByNameClassFilter(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">enhancement.</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">, </span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Open_Text').style.display='inline';"/>    BloatClassEdit[] edits </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_153_230_Open_Text"><span style="color: #000000;">{ </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> TranslateNQToSODAEdit() , </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> InjectTransparentActivationEdit(filter) }</span></span><span style="color: #000000;">;
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Open_Text').style.display='inline';"/>    URL[] urls </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_247_311_Open_Text"><span style="color: #000000;">{ </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">/work/workspaces/db4o/tatest/bin</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">).toURI().toURL() }</span></span><span style="color: #000000;">;
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Open_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Open_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Closed_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Closed_Text').style.display='inline';"/><img id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Closed_Image" src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Closed_Text').style.display='none'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Open_Image').style.display='inline'; document.getElementById('..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Open_Text').style.display='inline';"/>    Db4oInstrumentationLauncher.launch(edits, urls, EnhancerMain.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">.getName(), </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> String[]</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="..EnhancementExampleJava.ZipsEnhancementExamplesrcenhancementEnhancerStarter.Java_EnhancementExamplesrcenhancementEnhancerStarter.Java_Main_1956_104_405_407_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;">);
</span><span style="color: #008080;">6</span><span style="color: #000000;"><img src="../../../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p>Try this code now - if everything is correct you will see
that the objects are getting activated as they are requested. NQ info also
should say that the queries are preoptimized.</p>


<p>Note that for load time instrumentation to work, the application code has to make sure db4o operates on the appropriate classloader for the persistent model classes.<br></p></div>
    </div>
    <div id="footer">
					This revision (4) was last Modified 2007-11-08T16:34:43 by Patrick Roemer.
				</div>
  </body>
</html>