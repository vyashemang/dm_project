<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unique Universal IDs</title>
    <link rel="stylesheet" type="text/css" href="../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Unique Universal IDs</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>


<p>For long-term external references and to identify an object even after it has been copied or moved to another ObjectContainer, db4o supplies Unique Universal IDs (UUIDs).</p>

<p>
Every newly created db4o database generates a signature object. It is stored as an instance of Db4oDatabase in your database file.</p>

<p>This signature is linked to all newly created objects (if UUID generation is enabled) as the "signature part" of the UUID.</p>

<p>Further to that db4o creates a timestamp for every new object and uses an internal counter to make sure that timestamps are unique. This is called the "long part" of the UUID.</p>

<p>The long part is indexed to make the search fast. If two objects with an identical long parts are found, the signature parts are compared also.</p>

<p>The long part of the UUID can also be used to find out when an object was created. You can use </p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: </p>
<p><code>com.db4o.foundation.TimeStampIdGenerator#idToMilliseconds()</code></p>

</span>





<p>to get object creation time in milliseconds.</p>

<p>
UUIDs are guaranteed to be unique, if the signature of your db4o database is unique.</p>

<p>
Normally any database has a unique signature unless its file is copied. The original and copied database files are identical, so they have the same signatures. If such files are used in replication, the process will end up with exceptions. What is the solution then?</p>

<p>Signature of a database file can be changed using</p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: </p>
<p><code>LocalObjectContainer#generateNewIdentity</code></p>

</span>




method. 
<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">UUIDExample.java: <span class="fscMemberName">testChangeIdentity</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> testChangeIdentity() </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_41_1007_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(DB4O_FILE_NAME);
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Db4oDatabase db;
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] oldSignature;
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">byte</span><span style="color: #000000;">[] newSignature;
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_212_428_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.ext().identity();
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      oldSignature </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.getSignature();
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">oldSignature: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #000000;">+</span><span style="color: #000000;"> printSignature(oldSignature));
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ((LocalObjectContainer) container).generateNewIdentity();
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_437_464_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(DB4O_FILE_NAME);
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_516_671_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      db </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.ext().identity();
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      newSignature </span><span style="color: #000000;">=</span><span style="color: #000000;"> db.getSignature();
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">newSignature: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #000000;">+</span><span style="color: #000000;"> printSignature(newSignature));
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_680_707_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">boolean</span><span style="color: #000000;"> same </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">for</span><span style="color: #000000;"> (</span><span style="color: #0000FF;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> oldSignature.length; i</span><span style="color: #000000;">++</span><span style="color: #000000;">) </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_781_854_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (oldSignature[i] </span><span style="color: #000000;">!=</span><span style="color: #000000;"> newSignature[i]) </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_826_850_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        same </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">34</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (same) </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_868_933_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Database signatures are identical</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">else</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestChangeIdentity_1776_63_939_1004_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Database signatures are different</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">39</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>UUIDs are not generated by default, since they occupy extra space in the database file and produce performance overhead for maintaining their index. UUIDs can be turned on globally or for individual classes:</p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: <code>configuration.generateUUIDs(ConfigScope.GLOBALLY)</code></p>

</span>





<p>- turns on UUID generation for all classes in a database. </p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: <code>configuration.objectClass(Foo.class).generateUUIDs(true)</code></p>

</span>





<p>- turns on UUID generation for a specific class.</p>

<p>You can get the UUID value for an object using the following methods:
</p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: </p>

<p></code>ExtObjectContainer#getObjectInfo(Object)<br>
ObjectInfo#getUUID() </code></p>

</span>





<p>To get the object from the database, knowing its UUID, use: </p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: </p>
<p><code>ExtObjectContainer#getByUUID(Db4oUUID)</code></p>

</span>





<p>
The following example shows the usage of UUID: </p>
<span name="cs_wiki_filter" csw_filters="java">
<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">UUIDExample.java: <span class="fscMemberName">setObjects</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> setObjects() </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_33_402_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Configuration configuration </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.newConfiguration();
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    configuration.objectClass(Pilot.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">).generateUUIDs(</span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configuration, DB4O_FILE_NAME);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_273_363_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Car car </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Car(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">BMW</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">, </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Rubens Barrichello</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">));
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.set(car);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_SetObjects_3099_55_372_399_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

<p></span></p>





<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">UUIDExample.java: <span class="fscMemberName">testGenerateUUID</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> testGenerateUUID() </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_39_1197_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(DB4O_FILE_NAME);
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_108_1158_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Query query </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query();
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      query.constrain(Car.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> query.execute();
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Car car </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Car) result.get(</span><span style="color: #000000;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectInfo carInfo </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.ext().getObjectInfo(car);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Db4oUUID carUUID </span><span style="color: #000000;">=</span><span style="color: #000000;"> carInfo.getUUID();
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          .println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">UUID for Car class are not generated:</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Car UUID: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> carUUID);
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Pilot pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> car.getPilot();
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectInfo pilotInfo </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.ext().getObjectInfo(
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          pilot);
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Db4oUUID pilotUUID </span><span style="color: #000000;">=</span><span style="color: #000000;"> pilotInfo.getUUID();
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">UUID for Pilot:</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Pilot UUID: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> pilotUUID);
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">long part: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #000000;">+</span><span style="color: #000000;"> pilotUUID.getLongPart() </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">; signature: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #000000;">+</span><span style="color: #000000;"> printSignature(pilotUUID.getSignaturePart()));
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      </span><span style="color: #0000FF;">long</span><span style="color: #000000;"> ms </span><span style="color: #000000;">=</span><span style="color: #000000;"> TimeStampIdGenerator.idToMilliseconds(pilotUUID
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          .getLongPart());
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Pilot object was created: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          </span><span style="color: #000000;">+</span><span style="color: #000000;"> (</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Date(ms)).toString());
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      Pilot pilotReturned </span><span style="color: #000000;">=</span><span style="color: #000000;"> (Pilot) container.ext().getByUUID(
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          pilotUUID);
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Pilot from UUID: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> pilotReturned);
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceImplementation_StrategiesIDs_And_UUIDsuuidsJava.ZipsUUIDExample.Java_UUIDExample.Java_TestGenerateUUID_3235_61_1167_1194_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      container.close();
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>Sometimes you can find out that you need UUIDs only when the database is already created and has some data in it. What can you do in that case?</p>

<p>Fortunately enabling replication for existing data files is a very simple process: </p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java: </p>
<p><code>configuration.objectClass(Task.class).enableReplication(true)</code></p>

</span>





<p>After that you will just need to use the old defragment tool from tools package supplied
with the distribution before version 6.0 (source code only) to enable replication.</p>

<p>You can use UUID for replication and as a reference to a specific object instance from an external application or data store.</p></div>
    </div>
    <div id="footer">
					This revision (17) was last Modified 2008-02-05T12:05:58 by dlouwers.
				</div>
  </body>
</html>