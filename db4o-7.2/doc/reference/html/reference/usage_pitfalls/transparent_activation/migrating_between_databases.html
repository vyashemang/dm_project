<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Migrating Between Databases</title>
    <link rel="stylesheet" type="text/css" href="../../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Migrating Between Databases</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>

<p>Transparent activation and persistence functionality depends
on an association between an object and an object container, which is created
when an activator is bound to the object. Each object allows only one
activator. Typically this limitation won't show up, however there is a valid
use case for it: </p>

<p>1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; suppose
you need to copy one or more objects from one object container to another;</p>

<p>2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; you
will retrieve the object(s) from the first object container using any suitable
query syntax;</p>

<p>3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; optionally
you can close the first object container;</p>

<p>4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; you
will now save the object to the second object container.</p>

<p>If both object containers were
using transparent activation or persistence - the 4-th step will throw an
exception. Let's look at the case in more detail. Typical activatable class
contains an <code>activator</code> field. When transparent activation
functionality is used for the first time an object container activator will be
bound to the object:</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">SensorPanelTA.java: <span class="fscMemberName">bind</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Open_Text').style.display='inline';"/><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">/**/</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_0_74_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;">Bind the class to the specified object container, create the activator</span><span style="color: #008000;">*/</span></span><span style="color: #000000;">
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Open_Text').style.display='inline';"/>  </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> bind(Activator activator) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_114_310_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (_activator </span><span style="color: #000000;">==</span><span style="color: #000000;"> activator) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_150_172_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #0000FF;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (activator </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;"> </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> _activator </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsSensorPanelTA.Java_SensorPanelTA.Java_Bind_1210_55_223_281_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #0000FF;">throw</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> IllegalStateException();
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>        }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    _activator </span><span style="color: #000000;">=</span><span style="color: #000000;"> activator;
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>If <code>bind</code> method will
be re-called with the same object container, activator parameter will always be
the same. However, if another object container tries to bind the object (in our
case with the <code>store</code> call) activator parameter will be different,
which will cause an exception. (Exception will be thrown even if the first
object container is already closed, as activator object still exists in the
memory.) This behaviour is illustrated with the following example
(<a href="../../object_lifecycle/activation/transparent_activation_framework/detailed_example.html" class="wikiLink">SensorPanelTA</a> class from Transparent Activation chapter is used):</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">TAExample.java: <span class="fscMemberName">testSwitchDatabases</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> testSwitchDatabases() </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_42_573_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    storeSensorPanel();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer firstDb </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configureTA(), FIRST_DB_NAME);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer secondDb </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configureTA(), SECOND_DB_NAME);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_221_515_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> firstDb.queryByExample(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> SensorPanelTA(</span><span style="color: #000000;">1</span><span style="color: #000000;">));
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (result.size() </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_317_511_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        SensorPanelTA sensor </span><span style="color: #000000;">=</span><span style="color: #000000;"> (SensorPanelTA) result.get(</span><span style="color: #000000;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        firstDb.close();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Migrating an object from the first database
</span><span style="color: #008080;">12</span><span style="color: #008000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #008000;">//</span><span style="color: #008000;"> into a second database</span><span style="color: #008000;">
</span><span style="color: #008080;">13</span><span style="color: #008000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">        secondDb.store(sensor);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabases_2002_66_524_570_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      firstDb.close();
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      secondDb.close();
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>





<p>The solution to this problem is
simple: activator should be unbound from the object:</p>

<span name="cs_wiki_filter" csw_filters="java">

<p>Java:</p>

<p><code>sensor.bind(null);</code></p>

</span>





<p>Note, that the object will quit
being activatable for the first object container. The following example shows
the described behaviour:</p>

<span name="cs_wiki_filter" csw_filters="java">

<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">TAExample.java: <span class="fscMemberName">testSwitchDatabasesFixed</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> testSwitchDatabasesFixed() </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_47_1401_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    storeSensorPanel();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer firstDb </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configureTA(), FIRST_DB_NAME);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer secondDb </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.openFile(configureTA(), SECOND_DB_NAME);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_226_1343_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> firstDb.queryByExample(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> SensorPanelTA(</span><span style="color: #000000;">1</span><span style="color: #000000;">));
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (result.size() </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_322_1339_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        SensorPanelTA sensor </span><span style="color: #000000;">=</span><span style="color: #000000;"> (SensorPanelTA) result.get(</span><span style="color: #000000;">0</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Unbind the object from the first database</span><span style="color: #008000;">
</span><span style="color: #008080;">11</span><span style="color: #008000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">        sensor.bind(</span><span style="color: #0000FF;">null</span><span style="color: #000000;">);
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Migrating the object into the second database</span><span style="color: #008000;">
</span><span style="color: #008080;">13</span><span style="color: #008000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/></span><span style="color: #000000;">        secondDb.store(sensor);
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Retrieving previous query results from </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> 
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #000000;">+</span><span style="color: #000000;"> FIRST_DB_NAME </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">:</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        SensorPanelTA next </span><span style="color: #000000;">=</span><span style="color: #000000;"> sensor.getNext();
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Open_Text').style.display='inline';"/>        </span><span style="color: #0000FF;">while</span><span style="color: #000000;"> (next </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_709_775_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          System.out.println(next);
</span><span style="color: #008080;">21</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          next </span><span style="color: #000000;">=</span><span style="color: #000000;"> next.getNext();
</span><span style="color: #008080;">22</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>        }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Retrieving previous query results from </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> 
</span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>            </span><span style="color: #000000;">+</span><span style="color: #000000;"> FIRST_DB_NAME </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> with manual activation:</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        firstDb.activate(sensor, Integer.MAX_VALUE);
</span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        next </span><span style="color: #000000;">=</span><span style="color: #000000;"> sensor.getNext();
</span><span style="color: #008080;">28</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Open_Text').style.display='inline';"/>        </span><span style="color: #0000FF;">while</span><span style="color: #000000;"> (next </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1003_1069_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          System.out.println(next);
</span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          next </span><span style="color: #000000;">=</span><span style="color: #000000;"> next.getNext();
</span><span style="color: #008080;">31</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>        }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">32</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Retrieving sensorPanel from </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> SECOND_DB_NAME </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">&quot;</span><span style="color: #000000;">:</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);
</span><span style="color: #008080;">34</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        result </span><span style="color: #000000;">=</span><span style="color: #000000;"> secondDb.queryByExample(</span><span style="color: #0000FF;">new</span><span style="color: #000000;"> SensorPanelTA(</span><span style="color: #000000;">1</span><span style="color: #000000;">));
</span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        next </span><span style="color: #000000;">=</span><span style="color: #000000;"> sensor.getNext();
</span><span style="color: #008080;">36</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Open_Text').style.display='inline';"/>        </span><span style="color: #0000FF;">while</span><span style="color: #000000;"> (next </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1268_1334_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          System.out.println(next);
</span><span style="color: #008080;">38</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>          next </span><span style="color: #000000;">=</span><span style="color: #000000;"> next.getNext();
</span><span style="color: #008080;">39</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>        }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">40</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">41</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Open_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Closed_Image" src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsTransparent_ActivationMigrating_Between_DatabasesTAMigrateJava.ZipsTAExample.Java_TAExample.Java_TestSwitchDatabasesFixed_2513_71_1352_1398_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">42</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      firstDb.close();
</span><span style="color: #008080;">43</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>      secondDb.close();
</span><span style="color: #008080;">44</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">45</span><span style="color: #000000;"><img src="../../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>

</span>



</div>
    </div>
    <div id="footer">
					This revision (4) was last Modified 2008-01-12T19:40:37 by Tetyana.
				</div>
  </body>
</html>