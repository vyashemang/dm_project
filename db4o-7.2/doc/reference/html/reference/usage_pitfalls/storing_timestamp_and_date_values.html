<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Storing Timestamp And Date Values</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Storing Timestamp And Date Values</h1><div id="TOC"><div id="TOCinner"><span class="TOCtitle">Contents</span><div class="TOCcontents"><ul><li><a href ="#Problem">Problem</a></li><li><a href ="#Reason">Reason</a></li><li><a href ="#Solution">Solution</a></li></ul></li></ul></div></div></div><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script><P><FONT color=#990000>This topic applies to Java version only</FONT>&nbsp;</P>
<P><span name="cs_wiki_filter" csw_filters="java"></P>
<a name="Problem"></a><H2>Problem</H2>
<P>If you've been working with java.sql.Date, java.sql.Timestamp or other classes extending java.util.Date, you should know that they cannot be stored to db4o by default. To see the problem try to run the following methods, using the default configuration:</P>
<P><code>Configuration configuration = Db4o.newConfiguration();</code></P>
<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">TimestampExample.java: <span class="fscMemberName">storeTimestamp</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> storeTimestamp(Configuration configuration) </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_64_508_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> File(DB4O_FILE_NAME).delete();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> database(configuration);
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (container </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_186_505_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_195_382_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        Timestamp timestamp </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Timestamp(System.currentTimeMillis()); 
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">timestamp: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> timestamp);
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        container.set(timestamp); 
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        container.commit();
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Open_Text').style.display='inline';"/>    }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (Exception ex) </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_404_465_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Exception: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.toString());
</span><span style="color: #008080;">15</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Open_Text').style.display='inline';"/>      }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_StoreTimestamp_493_68_474_501_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        closeDatabase();
</span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">18</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">19</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>
<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">TimestampExample.java: <span class="fscMemberName">retrieveTimestamp</span></span></div><div class="fscCode"><pre ID=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Open_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Closed_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Closed_Text').style.display='inline';"/><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Closed_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Open_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> retrieveTimestamp(Configuration configuration) </span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_67_376_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> database(configuration);
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Open_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Closed_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Closed_Text').style.display='inline';"/><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Closed_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Open_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (container </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_149_373_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Open_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Closed_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Closed_Text').style.display='inline';"/><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Closed_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Open_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_158_250_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        ObjectSet result </span><span style="color: #000000;">=</span><span style="color: #000000;"> container.query(Timestamp.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        listResult(result);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Open_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Closed_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Closed_Text').style.display='inline';"/><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Closed_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Open_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Open_Text').style.display='inline';"/>      }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (Exception ex) </span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_272_333_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Exception: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.toString());
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Open_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Closed_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Closed_Text').style.display='inline';"/><img id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Closed_Text').style.display='none'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Open_Image').style.display='inline'; document.getElementById('.TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Open_Text').style.display='inline';"/>      }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id=".TimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_RetrieveTimestamp_563_73_342_369_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        closeDatabase();
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>
<a name="Reason"></a><H2>Reason</H2>
<P>java.sql.Date or java.sql.Timestamp classes extend java.util.Date class, which has a transient field, preventing it from being stored. (Note, that using java.util.Date as a field in your class does not raise any problem, as this class gets special treatment by db4o.)<BR></P>
<a name="Solution"></a><H2>Solution</H2>
<P>The problem can be solved by applying the following configuration to the object container:</P>
<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">TimestampExample.java: <span class="fscMemberName">configure</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> Configuration configure() </span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsStoring_Timestamp_And_Date_ValuesTimestampJava.ZipsTimestampExample.Java_TimestampExample.Java_Configure_1053_63_41_194_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">2</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    Configuration configuration </span><span style="color: #000000;">=</span><span style="color: #000000;"> Db4o.newConfiguration();
</span><span style="color: #008080;">3</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    configuration.objectClass(Date.</span><span style="color: #0000FF;">class</span><span style="color: #000000;">).storeTransientFields(</span><span style="color: #0000FF;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">4</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> configuration;
</span><span style="color: #008080;">5</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>
<P>Try to run storeTimestamp and retrieveTimestamp methods using the new configuration.</P>
<P>The same solution can be applied to java.sql.Date and java.util.Date classes.</P>
<P></span>&nbsp;</P></div>
    </div>
    <div id="footer">
					This revision (7) was last Modified 2007-08-29T13:26:49 by Tetyana.
				</div>
  </body>
</html>