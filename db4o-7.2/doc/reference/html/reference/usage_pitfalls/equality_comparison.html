<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Equality Comparison</title>
    <link rel="stylesheet" type="text/css" href="../../style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>Equality Comparison</h1><script>
//We attach this function to a browser object as a variable so that if multiple of these blocks are
//present on the same page, then they will simply over-write eachother with the same function instead
//of generating a naming collision.
window.WikiCodeFormattingCopyToClipboard = function copyToClipboard(sID){
	var sContent = document.getElementById(sID).innerText;
	if( window.clipboardData && clipboardData.setData )
	{
		clipboardData.setData("Text", sContent);
	}
	else
	{
		alert("You must enable javascript access to your clipboard for this feature to work. Please referr to your browser documentation or Google search for instructions.");
	}
}
</script>Db4o uses reference cache for quick
access to persistent objects. Each persistent object is guaranteed to
have only one instance in the object reference cache independently of
whether it was saved or retrieved. You can retrieve the same object
several times with different querying methods, but you will still get
references to the same object, so that ref(1) == ref(2) == ... ==
ref(n).
<p>In the same time it means that 2
objects, for example, one created in the runtime and another
retrieved from the database, with the same data (field values) won't
be equal for db4o. 
</p>
<p>There are 2 ways to compare db4o
objects by data:</p>
<ul><li><p>using
	<a href="../object_lifecycle/querying/query_by_example.html" class="wikiLink">QBE</a>;</p>
	</li><li><p>implementing a suitable
	<code>equals</code> method.</p>
</li></ul>
<p>Let's save an object to the database
and try the above mentioned methods in practice.</p>
<span name="cs_wiki_filter" csw_filters="java">
<div class="FormattedSourceCode"><div class="fscHeader"><span class="fscFileName">EqualityExample.java: <span class="fscMemberName">storePilot</span></span></div><div class="fscCode"><pre ID="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">01</span><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Open_Text').style.display='inline';"/><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">static</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> storePilot() </span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_33_331_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">02</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>    ObjectContainer container </span><span style="color: #000000;">=</span><span style="color: #000000;"> database();
</span><span style="color: #008080;">03</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Open_Text').style.display='inline';"/>    </span><span style="color: #0000FF;">if</span><span style="color: #000000;"> (container </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">null</span><span style="color: #000000;">) </span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_102_328_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">04</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Open_Text').style.display='inline';"/>      </span><span style="color: #0000FF;">try</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_111_196_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">05</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        Pilot pilot </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Pilot(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Kimi Raikkonnen</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">, </span><span style="color: #000000;">100</span><span style="color: #000000;">);
</span><span style="color: #008080;">06</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        container.set(pilot);
</span><span style="color: #008080;">07</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Open_Text').style.display='inline';"/>      }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">catch</span><span style="color: #000000;"> (Exception ex) </span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_218_288_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">08</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        System.out.println(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">System Exception: </span><span style="color: #000000;">&quot;</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ex.getMessage());
</span><span style="color: #008080;">09</span><span style="color: #000000;"><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Open_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Open_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Closed_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Closed_Text').style.display='inline';"/><img id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Closed_Image" src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ContractedSubBlock.gif" align="top" style="display: none;" onClick="this.style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Closed_Text').style.display='none'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Open_Image').style.display='inline'; document.getElementById('ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Open_Text').style.display='inline';"/>      }</span></span><span style="color: #000000;"> </span><span style="color: #0000FF;">finally</span><span style="color: #000000;"> </span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Closed_Text" style="border: solid 1px #808080; background-color: #FFFFFF; display: none;">...</span><span id="ResourcesReferenceUsage_PitfallsEquality_ComparisonequalityJava.ZipsEqualityExample.Java_EqualityExample.Java_StorePilot_960_62_297_324_Open_Text"><span style="color: #000000;">{
</span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/InBlock.gif" align="top"/>        closeDatabase();
</span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>      }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"/>    }</span></span><span style="color: #000000;">
</span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="../../Utility/ActiPro.CodeHighligher/OutliningIndicators/ExpandedBlockEnd.gif" align="top"/>  }</span></span></div></pre></div></div>
</span>



<div class="childTopicList">More Reading:<ul>
<li><p><a href="equality_comparison/qbe.html" class="wikiLink">QBE</a></p></li>
<li><p><a href="equality_comparison/using_equals.html" class="wikiLink">Using Equals</a></p></li>
</ul></div>


</div>
    </div>
    <div id="footer">
					This revision (4) was last Modified 2008-01-17T18:26:14 by Tetyana.
				</div>
  </body>
</html>